<a class='menu-item'
    (click)="parentOpen(index)"
    [ngClass]="{'active':childrenAndActive(menu)}">
        <i class="icon flaticon-settings"></i>
        <span class="text">
            {{menu.data.name}}
        </span>
        <i class="arrow la la-angle-right" *ngIf="menu.children && menu.children.length > 0"></i>
</a>
<ng-template [ngIf]="menu.children && menu.children.length > 0" cdk-portal>
    <div 
        class="menu-submenu" 
        [@childActive]="toggleChildren(menu)"
        [ngClass]="{'minimize':!sidenavOpen}">
        <span class="arrow"></span>
        <ul class="menu-subnav">
            <li 
                class="menu-subnav-item" 
                routerLinkActive="menu-subnav-item-active" 
                routerLinkActiveOptions="{ exact: true}" 
                aria-haspopup="true"
                *ngFor="let level2 of menu.children">
                <a [routerLink]="[menu.path+'/'+level2.path]" >
                    <i class="m-menu__link-bullet m-menu__link-bullet--dot"><span></span></i>
                    <span>
                        {{level2.data.name}}
                    </span>
                </a>
            </li>
        </ul>
    </div>
</ng-template>
<ng-template #noChild>
    <li
        class="m-menu__item" 
        routerLinkActive="m-menu__item--active" 
        routerLinkActiveOptions="{ exact: true }" 
        aria-haspopup="true">
        <a [routerLink]="[menu?.path]" class="m-menu__link">
            <i class="m-menu__link-icon flaticon-line-graph"></i>
            <span class="m-menu__link-title">
                <span class="m-menu__link-wrap">
                    <span class="m-menu__link-text">
                        {{menu.data.name}}
                    </span>
                </span>
            </span>
        </a>
    </li>
</ng-template>