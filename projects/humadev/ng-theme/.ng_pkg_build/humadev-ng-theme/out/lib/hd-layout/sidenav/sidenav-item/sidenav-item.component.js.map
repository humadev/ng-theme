{"version":3,"file":"sidenav-item.component.js","sourceRoot":"","sources":["sidenav-item.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { LayoutService } from '../../../services/layout.service';\nimport { Router } from '@angular/router';\nimport {\n  Component,\n  OnInit,\n  Input,\n  ViewEncapsulation,\n  ViewChild,\n  ViewChildren,\n  QueryList,\n  ElementRef,\n  HostListener\n} from '@angular/core';\nimport {\n  trigger,\n  state,\n  style,\n  transition,\n  animate\n} from '@angular/animations';\nimport { slideToRight } from '../../../animations/router.animation';\nimport {\n  Overlay,\n  OverlayConfig,\n  CdkOverlayOrigin,\n  OverlayRef\n} from '@angular/cdk/overlay';\nimport { TemplatePortalDirective, Portal } from '@angular/cdk/portal';\n\n@Component({\n  selector: '[hd-sidenav-item]',\n  template: `<a class='menu-item' *ngIf=\"menu.children && menu.children.length > 0; else noChildItem\" (click)=\"parentOpen(index)\" [ngClass]=\"{'active':childrenAndActive(menu)}\">\n  <i class=\"icon flaticon-settings\"></i>\n  <span class=\"text\">\n    {{menu.data.name}}\n  </span>\n  <i class=\"arrow la la-angle-right\" *ngIf=\"menu.children && menu.children.length > 0\"></i>\n</a>\n<ng-template #noChildItem>\n  <a class='menu-item no-child' [routerLink]=\"menu?.path\" routerLinkActive=\"menu-item-active\" routerLinkActiveOptions=\"{ exact: true }\">\n    <i class=\"icon flaticon-settings\"></i>\n    <span class=\"text\">\n      {{menu.data.name}}\n    </span>\n    <span class=\"badge\" *ngIf=\"menu.data.badge\">\n      <span>{{menu.data.badge}}</span>\n    </span>\n  </a>\n</ng-template>\n<ng-template [ngIf]=\"menu.children && menu.children.length > 0\" cdk-portal>\n  <div (mouseenter)=\"onMinHover = true;\" (mouseleave)=\"onMinHover = false; onMinLeave($event)\" class=\"menu-submenu\" [@childActive]=\"toggleChildren(menu)\"\n    [ngClass]=\"{'minimize':sidenavOpen.minimize}\">\n    <span class=\"arrow\"></span>\n    <ul class=\"menu-subnav\">\n      <li class=\"menu-subnav-item subnav-title\">\n        <a>\n          <span class=\"text\">\n            {{menu.data.name}}\n          </span>\n          <span class=\"badge\" *ngIf=\"menu.data.badge\">\n            <span>{{menu.data.badge}}</span>\n          </span>\n        </a>\n      </li>\n      <li class=\"menu-subnav-item\" routerLinkActive=\"menu-subnav-item-active\" routerLinkActiveOptions=\"{ exact: true}\" aria-haspopup=\"true\"\n        *ngFor=\"let level2 of menu.children\">\n        <a [routerLink]=\"[menu.path+'/'+level2.path]\">\n          <i class=\"m-menu__link-bullet m-menu__link-bullet--dot\">\n            <span></span>\n          </i>\n          <span class=\"text\">\n            {{level2.data.name}}\n          </span>\n          <span class=\"badge\" *ngIf=\"level2.data.badge\">\n            <span>{{level2.data.badge}}</span>\n          </span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</ng-template>\n<ng-template #noChild>\n  <li class=\"m-menu__item\" routerLinkActive=\"m-menu__item--active\" routerLinkActiveOptions=\"{ exact: true }\" aria-haspopup=\"true\">\n    <a [routerLink]=\"[menu?.path]\" class=\"m-menu__link\">\n      <i class=\"m-menu__link-icon flaticon-line-graph\"></i>\n      <span class=\"m-menu__link-title\">\n        <span class=\"m-menu__link-wrap\">\n          <span class=\"m-menu__link-text\">\n            {{menu.data.name}}\n          </span>\n        </span>\n      </span>\n    </a>\n  </li>\n</ng-template>\n`,\n  styles: [`:host{background-color:none;position:relative;margin:0;display:block;float:none;height:auto;padding:0;font-size:14px;font-weight:300;font-family:Poppins;-ms-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:pointer}:host :hover{background-color:#292b3a}.menu-item{padding:2px 30px;height:44px;display:table;table-layout:fixed;margin:0;text-decoration:none;position:relative;outline:0}.menu-item i.icon{color:#fefefe;text-align:left;width:35px;font-size:1.4rem;display:table-cell;height:100%;vertical-align:middle;line-height:0;padding:0 15px 0 0}.menu-item span.text{color:#fefefe;font-weight:400;font-size:1.02rem;text-transform:initial;display:table-cell;height:100%;width:100%;padding:0!important;vertical-align:middle}.menu-item span.badge{display:table-cell;height:100%;vertical-align:middle;white-space:nowrap;padding:0 0 0 5px;text-align:right}.menu-item span.badge span{border-radius:10px;background:#f4516c;font-size:.8rem;line-height:20px;min-height:20px;min-width:20px;vertical-align:middle;text-align:center;display:inline-block;padding:0 2px;color:#fff}.menu-item i.arrow{color:#fefefe;text-align:right;width:20px;font-size:.7rem;display:table-cell;vertical-align:middle;line-height:0;height:100%;padding:0!important}.menu-item i.arrow:before{display:inline-block;-webkit-transition:all .3s ease;transition:all .3s ease}.menu-item:hover i.arrow,.menu-item:hover i.icon{color:#868aa8}.menu-item.minimize{padding-left:0;padding-right:0;text-align:center;height:44px;display:table;table-layout:fixed;width:100%;margin:0;text-decoration:none;position:relative;outline:0}.menu-item.minimize i.arrow,.menu-item.minimize span.text{display:none}.menu-item.minimize i.icon{width:100%;text-align:center;font-size:1.4rem;display:table-cell;height:100%;vertical-align:middle;line-height:0;padding:0!important}.menu-item.active i.arrow,.menu-item.active i.icon{color:#868aa8}.menu-item.active i.arrow:before{-webkit-transition:all .3s ease;transition:all .3s ease;-webkit-transform:translate3d(0,0,0);-webkit-transform:rotateZ(90deg);transform:rotateZ(90deg)}.menu-subnav-item{display:block;margin:0;float:none;height:auto;padding:0;cursor:pointer}.menu-subnav-item span.text{color:#fefefe;font-weight:400;font-size:1.02rem;text-transform:initial;display:table-cell;height:100%;width:100%;padding:0!important;vertical-align:middle}.menu-subnav-item span.badge{display:table-cell;height:100%;width:20px;vertical-align:middle;white-space:nowrap;padding:0 0 0 5px;text-align:right}.menu-subnav-item span.badge span{border-radius:10px;background:#f4516c;font-size:.8rem;line-height:20px;min-height:20px;min-width:20px;vertical-align:middle;text-align:center;display:inline-block;padding:0 2px;color:#fff}.menu-subnav-item i.arrow{color:#525672;text-align:right;width:20px;font-size:.7rem;display:table-cell;vertical-align:middle;line-height:0;height:100%;padding:0!important}.menu-subnav-item i.arrow:before{display:inline-block;-webkit-transition:all .3s ease;transition:all .3s ease}.menu-subnav-item a{padding:0 30px 0 50px;height:40px;display:table;table-layout:fixed;width:100%;margin:0;text-decoration:none;position:relative;outline:0}.menu-subnav-item a i{vertical-align:middle;text-align:left;width:20px;display:table-cell;height:100%;line-height:0;font-size:14px;font-weight:300;font-family:Poppins;-ms-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.menu-subnav-item a i span{width:4px;height:4px;border-radius:100%;vertical-align:middle;display:inline-block;background-color:#525672}.menu-subnav-item a>span{color:#fefefe;font-weight:400;font-size:1rem;text-transform:initial;display:table-cell;height:100%;width:100%;padding:0;vertical-align:middle}.menu-subnav-item a .badge{display:table-cell;height:100%;vertical-align:middle;white-space:nowrap;padding:0 0 0 5px;text-align:right;width:20px}.menu-subnav-item a .badge span{border-radius:10px;background:#f4516c;font-size:.8rem;line-height:20px;min-height:20px;min-width:20px;vertical-align:middle;text-align:center;display:inline-block;padding:0 2px;color:#fff}.menu-subnav-item-active a i,.menu-subnav-item-active a span.text{color:#2a61ac!important}.menu-subnav-item-active a i span span.badge,.menu-subnav-item-active a span.text span span.badge{color:#fff}.menu-item-active{background-color:#292b3a}.menu-item-active i,.menu-item-active span{color:#2a61ac!important}.menu-item-active span.badge span{color:#fff!important}.menu-submenu{overflow:hidden;float:none;margin:0;padding:0}.menu-submenu .menu-subnav{padding:0;width:100%;margin:0;list-style:none}.menu-submenu .menu-subnav .menu-subnav-item.subnav-title{display:none}.menu-submenu.minimize{height:0;overflow:hidden}.menu-item.minimize .text{-webkit-transition:all .3s ease;transition:all .3s ease;display:none!important}.menu-item.minimize .m-brand__tools{text-align:center}`],\n  animations: [\n    trigger('childActive', [\n      state(\n        'inactive',\n        style({\n          display: 'block',\n          height: 0,\n          overflow: 'hidden'\n        })\n      ),\n      state(\n        'active',\n        style({\n          display: 'block',\n          height: '*'\n        })\n      ),\n      transition('inactive => active', animate('500ms ease')),\n      transition('active => inactive', animate('500ms ease'))\n    ])\n  ]\n})\nexport class SidenavItemComponent implements OnInit {\n  @Input('menu')\n  menu;\n  @Input('index')\n  index;\n  @Input()\n  nav: any = false;\n  @Input()\n  navFromRouter: any;\n  @ViewChildren(TemplatePortalDirective)\n  templatePortals: QueryList<Portal<any>>;\n  @Input()\n  sidenavOpen = { minimize: false };\n  children = false;\n  overlayRef: OverlayRef;\n  onMinHover = false;\n  hasAttached = false;\n  listHover = false;\n\n  constructor(\n    private router: Router,\n    private overlay: Overlay,\n    private ref: ElementRef,\n    private layout: LayoutService\n  ) {}\n\n  ngOnInit() {}\n\n  parentOpen(i: any) {\n    if (this.nav === false) {\n      if (\n        this.navFromRouter[i].isOpen === false ||\n        !this.navFromRouter[i].hasOwnProperty('isOpen')\n      ) {\n        this.navFromRouter[i].isOpen = true;\n      } else {\n        this.navFromRouter[i].isOpen = false;\n      }\n    } else {\n      if (\n        this.nav[i].isOpen === false ||\n        !this.nav[i].hasOwnProperty('isOpen')\n      ) {\n        this.nav[i].isOpen = true;\n      } else {\n        this.nav[i].isOpen = false;\n      }\n    }\n  }\n\n  isActive(instruction: any[]): boolean {\n    return this.router.isActive(this.router.createUrlTree(instruction), false);\n  }\n\n  toggleChildren(level) {\n    if (!this.sidenavOpen.minimize) {\n      if (\n        level.children &&\n        level.children.length > 0 &&\n        (level.isOpen || this.isActive([level.path]))\n      ) {\n        this.children = true;\n        return 'active';\n      } else {\n        this.children = false;\n        return 'inactive';\n      }\n    }\n  }\n\n  childrenAndActive(level) {\n    if (\n      level.children &&\n      level.children.length > 0 &&\n      (level.isOpen || this.isActive([level.path]))\n    ) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n  @HostListener('mouseenter', ['$event'])\n  onHover(e: MouseEvent) {\n    this.listHover = true;\n    if (!!this.sidenavOpen.minimize && !this.hasAttached) {\n      const config = new OverlayConfig({\n        scrollStrategy: this.overlay.scrollStrategies.block(),\n        positionStrategy: this.overlay\n          .position()\n          .connectedTo(\n            this.ref,\n            { originX: 'end', originY: 'top' },\n            { overlayX: 'start', overlayY: 'top' }\n          )\n          .withOffsetY(-10)\n      });\n      this.overlayRef = this.overlay.create(config);\n      this.overlayRef.attach(this.templatePortals.first);\n      this.hasAttached = true;\n    }\n  }\n\n  @HostListener('mouseleave', ['$event'])\n  onLeave(e) {\n    this.listHover = false;\n    setTimeout(() => {\n      if (!!this.sidenavOpen.minimize && !this.onMinHover) {\n        this.hasAttached = false;\n        this.overlayRef.dispose();\n      }\n    }, 100);\n  }\n\n  onMinLeave(e) {\n    setTimeout(() => {\n      if (!!this.sidenavOpen.minimize && !this.onMinHover && !this.listHover) {\n        this.hasAttached = false;\n        this.overlayRef.dispose();\n      }\n    }, 100);\n  }\n}\n"]}