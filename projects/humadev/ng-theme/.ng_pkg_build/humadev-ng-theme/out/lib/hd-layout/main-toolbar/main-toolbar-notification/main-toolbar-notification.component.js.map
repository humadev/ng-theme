{"version":3,"file":"main-toolbar-notification.component.js","sourceRoot":"","sources":["main-toolbar-notification.component.ts"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,aAAa,EAAE,MAAM,oCAAoC,CAAC;AACnE,OAAO,EAAE,uBAAuB,EAAU,MAAM,qBAAqB,CAAC;AACtE,OAAO,EAAE,gBAAgB,EAAE,OAAO,EAAE,aAAa,EAAE,MAAM,sBAAsB,CAAC;AAChF,OAAO,EACL,SAAS,EAET,SAAS,EACT,YAAY,EACZ,SAAS,EACT,UAAU,EACV,SAAS,EACT,KAAK,EACN,MAAM,eAAe,CAAC;AACvB,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,MAAM,sCAAsC,CAAC;AA6BvE,MAAM;;;;;;IAUJ,YACS,SACC,SACA;QAFD,YAAO,GAAP,OAAO;QACN,YAAO,GAAP,OAAO;QACP,YAAO,GAAP,OAAO;qBAPT,KAAK;KAQT;;;;IAEJ,QAAQ;QACN,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YAC5C,IAAI,GAAG,EAAE;gBACP,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC;gBAClB,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,iBAAiB,CAAC,CAAC;aACpE;iBAAM;gBACL,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;gBACnB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,iBAAiB,CAAC,CAAC;aACvE;SACF,CAAC,CAAC;KACJ;;;;;IAED,SAAS,CAAC,CAAC;QACT,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,iBAAiB,CAAC,CAAC;QACtE,uBAAM,MAAM,GAAG,IAAI,aAAa,CAAC;YAC/B,WAAW,EAAE,IAAI;YACjB,aAAa,EAAE,uBAAuB;YACtC,cAAc,EAAE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,KAAK,EAAE;YACrD,gBAAgB,EAAE,IAAI,CAAC,OAAO;iBAC3B,QAAQ,EAAE;iBACV,WAAW,CACV,IAAI,CAAC,IAAI,CAAC,UAAU,EACpB,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,QAAQ,EAAE,EACxC,EAAE,QAAQ,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,CACxC;iBACA,WAAW,CAAC,CAAC,EAAE,CAAC;SACpB,CAAC,CAAC;QACH,uBAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;QAC/C,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAC9C,UAAU,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,GAAG,EAAE;YACxC,UAAU,CAAC,OAAO,EAAE,CAAC;SACtB,CAAC,CAAC;KACJ;;;YA5EF,SAAS,SAAC;gBACT,QAAQ,EAAE,gCAAgC;gBAC1C,QAAQ,EAAE;;;;;;;;;;;;;;;;;;;;;eAqBG;gBACb,MAAM,EAAE,CAAC,m1FAAm1F,CAAC;gBAC71F,UAAU,EAAE,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,CAAC;aAClC;;;;YAvC0B,OAAO;YAQhC,SAAS;YAVF,aAAa;;;qBA2CnB,SAAS,SAAC,cAAc;sBAExB,SAAS,SAAC,OAAO;sBAEjB,KAAK;gCAEL,YAAY,SAAC,uBAAuB","sourcesContent":["import { LayoutService } from './../../../services/layout.service';\nimport { TemplatePortalDirective, Portal } from '@angular/cdk/portal';\nimport { CdkOverlayOrigin, Overlay, OverlayConfig } from '@angular/cdk/overlay';\nimport {\n  Component,\n  OnInit,\n  ViewChild,\n  ViewChildren,\n  QueryList,\n  ElementRef,\n  Renderer2,\n  Input\n} from '@angular/core';\nimport { fadeUp, ringing } from '../../../animations/router.animation';\n\n@Component({\n  selector: '[hd-main-toolbar-notification]',\n  template: `<a cdk-overlay-origin class=\"right-menu-item-link\" #notification=\"cdkOverlayOrigin\" (click)=\"clickMenu($event)\">\n    <span *ngIf='blink' class=\"notification-dot-blink m-animate-blink\"></span>\n    <span #shake class=\"right-menu-link-icon\">\n        <i class=\"flaticon-music-2\"></i>\n    </span>\n</a>\n<ng-template cdk-portal>\n    <div class=\"notification-dropdown\" [@fadeUp]=\"\">\n        <span class=\"arrow\" style=\"left: 58%\"></span>\n        <div class=\"inner\">\n            <div class=\"header\" style=\"background: url(./assets/notification.jpg); background-size: cover;\">\n                <span class=\"header-title\">\n                    9 New\n                </span>\n                <span class=\"header-subtitle\">\n                    User Notifications\n                </span>\n            </div>\n            <ng-content></ng-content>\n        </div>\n    </div>\n</ng-template>`,\n  styles: [`:host{padding:0 12px;height:100%;display:inline-block;vertical-align:middle;position:relative;font-size:14px;font-weight:300;font-family:Poppins;-webkit-font-smoothing:antialiased;line-height:1.5;color:#212529;background-color:#fff}.right-menu-item-link{position:relative;margin:0;width:auto;padding:0;display:table;table-layout:fixed;text-decoration:none;outline:0!important;vertical-align:middle;-ms-touch-action:manipulation;touch-action:manipulation;color:#5867dd;background-color:transparent;list-style:none;height:100%;font-size:14px;font-weight:300;font-family:Poppins;cursor:pointer}.right-menu-item-link .right-menu-link-icon{text-align:center;line-height:0;vertical-align:middle;padding:0;color:#ad5beb;display:table-cell;width:35px;font-size:1.4rem;-webkit-animation-fill-mode:initial;animation-fill-mode:initial;text-decoration:none;background-color:transparent;height:100%;margin:0;font-weight:300;font-family:Poppins;-ms-text-size-adjust:100%;-webkit-font-smoothing:antialiased}.right-menu-item-link i{font-size:1.5rem}.right-menu-item-link i:before{font-weight:700;padding:1px;background:-webkit-gradient(linear,left top,left bottom,color-stop(25%,#ad5beb),color-stop(50%,#c678db),color-stop(75%,#da6ea9),to(#e76e92));background:linear-gradient(180deg,#ad5beb 25%,#c678db 50%,#da6ea9 75%,#e76e92 100%);background-clip:text;text-fill-color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent}[class*=\" flaticon-\"]:before,[class^=flaticon-]:before{font-family:Flaticon;font-style:normal;font-weight:400;font-variant:normal;line-height:1;text-decoration:inherit;text-rendering:optimizeLegibility;text-transform:none;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased}.notification-dot-blink{left:50%;margin-left:-2px;position:absolute;top:11px;background-color:#f4516c;color:#fff;padding:0;line-height:4px;min-height:4px;min-width:4px;height:4px;width:4px;border-radius:100%;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}@-webkit-keyframes m-animate-blink{50%{opacity:0}}@keyframes m-animate-blink{50%{opacity:0}}@-webkit-keyframes m-animate-shake{from{-webkit-transform:rotate(13deg);transform:rotate(13deg)}to{-webkit-transform-origin:center center;-webkit-transform:rotate(-13deg);transform:rotate(-13deg)}}@keyframes m-animate-shake{from{-webkit-transform:rotate(13deg);transform:rotate(13deg)}to{-webkit-transform-origin:center center;-webkit-transform:rotate(-13deg);transform:rotate(-13deg)}}.m-animate-blink{-webkit-animation:1s step-start infinite m-animate-blink;animation:1s step-start infinite m-animate-blink;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.m-animate-shake{-webkit-animation:.1s ease-in .1s infinite alternate m-animate-shake;animation:.1s ease-in .1s infinite alternate m-animate-shake;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}`],\n  animations: [fadeUp(), ringing()]\n})\nexport class MainToolbarNotificationComponent implements OnInit {\n  @ViewChild('notification')\n  menu: CdkOverlayOrigin;\n  @ViewChild('shake')\n  shake: ElementRef;\n  @Input()\n  blink = false;\n  @ViewChildren(TemplatePortalDirective)\n  templatePortals: QueryList<Portal<any>>;\n\n  constructor(\n    public overlay: Overlay,\n    private _render: Renderer2,\n    private _layout: LayoutService\n  ) {}\n\n  ngOnInit() {\n    this._layout.showNotification.subscribe(res => {\n      if (res) {\n        this.blink = true;\n        this._render.addClass(this.shake.nativeElement, 'm-animate-shake');\n      } else {\n        this.blink = false;\n        this._render.removeClass(this.shake.nativeElement, 'm-animate-shake');\n      }\n    });\n  }\n\n  clickMenu(e) {\n    this.blink = false;\n    this._render.removeClass(this.shake.nativeElement, 'm-animate-shake');\n    const config = new OverlayConfig({\n      hasBackdrop: true,\n      backdropClass: 'menu-overlay-backdrop',\n      scrollStrategy: this.overlay.scrollStrategies.block(),\n      positionStrategy: this.overlay\n        .position()\n        .connectedTo(\n          this.menu.elementRef,\n          { originX: 'center', originY: 'bottom' },\n          { overlayX: 'center', overlayY: 'top' }\n        )\n        .withOffsetX(-30)\n    });\n    const overlayRef = this.overlay.create(config);\n    overlayRef.attach(this.templatePortals.first);\n    overlayRef.backdropClick().subscribe(() => {\n      overlayRef.dispose();\n    });\n  }\n}\n"]}