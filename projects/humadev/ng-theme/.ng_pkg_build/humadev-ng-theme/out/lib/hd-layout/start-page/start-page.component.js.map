{"version":3,"file":"start-page.component.js","sourceRoot":"","sources":["start-page.component.ts"],"names":[],"mappings":";;;;AAAA,OAAO,EAAE,SAAS,EAAU,KAAK,EAAE,MAAM,eAAe,CAAC;AACzD,OAAO,EAAE,WAAW,EAAE,MAAM,6BAA6B,CAAC;AAC1D,OAAO,EAAE,YAAY,EAAE,MAAM,WAAW,CAAC;AAoBzC,MAAM;;;;IAMF,YACY;QAAA,gBAAW,GAAX,WAAW;0BAJD,IAAI;KAKrB;;;;IAEL,QAAQ;QACJ,IAAG,IAAI,CAAC,UAAU,EAAE;YAChB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;SAC3C;KACJ;;;;;;IAED,gBAAgB,CAAC,IAAI,EAAE,IAAI,GAAG,EAAE;QAC5B,IACI,IAAI;YACJ,IAAI,CAAC,IAAI;YACT,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW;YACjC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,EAC9B;YACE,uBAAM,OAAO,GACT,YAAY,CACR,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,EACjC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,MAAM,CAC/B,CAAC,MAAM,GAAG,CAAC;gBACR,CAAC,CAAC,IAAI;gBACN,CAAC,CAAC,KAAK,CAAC;YAChB,IAAI,OAAO,EAAE;gBACT,OAAO,IAAI,CAAC;aACf;iBAAM;gBACH,OAAO,KAAK,CAAC;aAChB;SACJ;aAAM;YACH,OAAO,IAAI,CAAC;SACf;KACJ;;;YAxDJ,SAAS,SAAC;;gBAEP,QAAQ,EAAE,eAAe;gBACzB,QAAQ,EAAE;;;;;;;;;;;;CAYb;gBACG,MAAM,EAAE,CAAC,ogDAAogD,CAAC;aACjhD;;;;YApBQ,WAAW;;;sBAuBf,KAAK;2BACL,KAAK;0BACL,KAAK","sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\nimport { MenuService } from '../../services/menu.service';\nimport { intersection } from 'lodash-es';\n\n@Component({\n    // tslint:disable-next-line:component-selector\n    selector: 'hd-start-page',\n    template: `<div class=\"start-menu\">\n  <ng-template ngFor let-menu [ngForOf]=\"menus\" let-i=\"index\">\n    <a class=\"item\" [routerLink]=\"[menu.path]\" *ngIf=\"menu.data.isMenu && checkGroupAccess(menu)\">\n      <img [src]=\"menu.data.icon\">\n      <span class='text'>{{menu.data.title}}</span>\n      <span class='description'>{{menu.data.description}}</span>\n    </a>\n  </ng-template>\n</div>\n<div class='copyright'>\n  <span>{{copyright}}</span>\n</div>\n`,\n    styles: [`:host{background:#fff}:host .start-menu{position:fixed;overflow-y:scroll;bottom:20px;top:70px;padding:20px;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;width:100vw;min-height:90vh;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:start;text-align:center}:host .start-menu .item{background-color:none;padding:30px 20px;text-align:center;vertical-align:middle;height:200px;width:20%;text-decoration:none}:host .start-menu .item .text{display:block;margin-top:15px;line-height:1.4;font-weight:500;font-size:16px;text-overflow:ellipsis;text-align:center;font-family:Poppins;-ms-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:pointer;color:#292b3a;text-decoration:none}:host .start-menu .item .description{display:block;line-height:1.2;font-size:12px;text-overflow:ellipsis;text-align:center;font-family:Poppins;-ms-text-size-adjust:100%;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;cursor:pointer;color:#292b3a;text-decoration:none}:host .start-menu .item img{height:70px}:host .start-menu .item:hover{background-color:rgba(113,106,202,.1)}.copyright{position:fixed;bottom:0;display:block;width:100%;text-align:center;min-height:5vh;padding:10px;-webkit-box-shadow:0 1px 15px 1px rgba(113,106,202,.1);box-shadow:0 1px 15px 1px rgba(113,106,202,.1);background:#fff}`]\n})\nexport class StartPageComponent implements OnInit {\n\n    @Input() menus: any;\n    @Input() fromRouter = true;\n    @Input() copyright: string;\n\n    constructor(\n        private menuService: MenuService\n    ) { }\n\n    ngOnInit() {\n        if(this.fromRouter) {\n            this.menus = this.menuService.startMenu;\n        }\n    }\n\n    checkGroupAccess(menu, asal = '') {\n        if (\n            menu &&\n            menu.data &&\n            menu.data.groupAccess.permissions &&\n            menu.data.groupAccess.groups\n        ) {\n            const allowed =\n                intersection(\n                    menu.data.groupAccess.permissions,\n                    menu.data.groupAccess.groups\n                ).length > 0\n                    ? true\n                    : false;\n            if (allowed) {\n                return true;\n            } else {\n                return false;\n            }\n        } else {\n            return true;\n        }\n    }\n\n}\n"]}